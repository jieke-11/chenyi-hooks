"use strict";(self.webpackChunkchenyi_hooks=self.webpackChunkchenyi_hooks||[]).push([[930],{88433:function(U,o,e){var t;e.r(o),e.d(o,{demos:function(){return z}});var T=e(15009),u=e.n(T),W=e(99289),B=e.n(W),s=e(67294),j=e(22974),A=e(55013),r=e(31081),c=e(62707),i=e(91121),a=e(97096),l=e(79325),d=e(6469),y=e(86908),m=e(88527),E=e(99857),k=e(55170),v=e(47496),I=e(5572),_=e(95754),x=e(60521),f=e(59373),F=e(88931),L=e(5437),M=e(73044),K=e(89447),D=e(9741),P=e(4729),p=e(19515),C=e(85611),O=e(98502),z={"src-use-memoized-fn-demo-demo1":{component:s.memo(s.lazy(function(){return Promise.all([e.e(360),e.e(433)]).then(e.bind(e,69520))})),asset:{type:"BLOCK",id:"src-use-memoized-fn-demo-demo1",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:e(22645).Z},react:{type:"NPM",value:"18.3.1"},antd:{type:"NPM",value:"5.24.4"},"../../index.ts":{type:"FILE",value:e(1825).Z},"./useUpdateEffect.ts":{type:"FILE",value:e(68085).Z},"./useLatest.ts":{type:"FILE",value:e(29696).Z},"./useMemoizedFn.ts":{type:"FILE",value:e(47737).Z},"./useUnmount.ts":{type:"FILE",value:e(25367).Z},"./createUpdateEffect.ts":{type:"FILE",value:e(86861).Z},"./useBoolean.ts":{type:"FILE",value:e(31897).Z},"./useDebounce.ts":{type:"FILE",value:e(76853).Z},"./useDebounceFn.ts":{type:"FILE",value:e(43436).Z},"./useGetState.ts":{type:"FILE",value:e(36430).Z},"./usePrevious.ts":{type:"FILE",value:e(62441).Z},"./useSessionStorageState.ts":{type:"FILE",value:e(29294).Z},"./useSet.ts":{type:"FILE",value:e(8368).Z},"./useResetState.ts":{type:"FILE",value:e(69438).Z},"./useThrottle.ts":{type:"FILE",value:e(55222).Z},"./useThrottleFn.ts":{type:"FILE",value:e(9347).Z},"./useUnmountedRef.tsx":{type:"FILE",value:e(91975).Z},"./useToggle.ts":{type:"FILE",value:e(35498).Z},"lodash-es":{type:"NPM",value:"4.17.21"},"../utils/isBrowser.ts":{type:"FILE",value:e(2751).Z},"../createUseStorageState.ts":{type:"FILE",value:e(53204).Z},"../utils.ts":{type:"FILE",value:e(35225).Z},"../utils/isDev.ts":{type:"FILE",value:e(70571).Z},"../utils/lodash-polyfill.ts":{type:"FILE",value:e(93665).Z}},entry:"index.tsx",title:"\u57FA\u7840\u7528\u6CD5"},context:{"../../index.ts":r,"./useUpdateEffect.ts":c,"./useLatest.ts":i,"./useMemoizedFn.ts":a,"./useUnmount.ts":l,"./createUpdateEffect.ts":d,"./useBoolean.ts":y,"./useDebounce.ts":m,"./useDebounceFn.ts":E,"./useGetState.ts":k,"./usePrevious.ts":v,"./useSessionStorageState.ts":I,"./useSet.ts":_,"./useResetState.ts":x,"./useThrottle.ts":f,"./useThrottleFn.ts":F,"./useUnmountedRef.tsx":L,"./useToggle.ts":M,"../utils/isBrowser.ts":D,"../createUseStorageState.ts":P,"../utils.ts":p,"../utils/isDev.ts":C,"../utils/lodash-polyfill.ts":O,react:t||(t=e.t(s,2)),antd:A,"/home/runner/work/chenyi-hooks/chenyi-hooks/src/index.ts":r,"/home/runner/work/chenyi-hooks/chenyi-hooks/src/useUpdateEffect/index.ts":c,"/home/runner/work/chenyi-hooks/chenyi-hooks/src/useLatest/index.ts":i,"/home/runner/work/chenyi-hooks/chenyi-hooks/src/useMemoizedFn/index.ts":a,"/home/runner/work/chenyi-hooks/chenyi-hooks/src/useUnmount/index.ts":l,"/home/runner/work/chenyi-hooks/chenyi-hooks/src/createUpdateEffect/index.ts":d,"/home/runner/work/chenyi-hooks/chenyi-hooks/src/useBoolean/index.ts":y,"/home/runner/work/chenyi-hooks/chenyi-hooks/src/useDebounce/index.ts":m,"/home/runner/work/chenyi-hooks/chenyi-hooks/src/useDebounceFn/index.ts":E,"/home/runner/work/chenyi-hooks/chenyi-hooks/src/useGetState/index.ts":k,"/home/runner/work/chenyi-hooks/chenyi-hooks/src/usePrevious/index.ts":v,"/home/runner/work/chenyi-hooks/chenyi-hooks/src/useSessionStorageState/index.ts":I,"/home/runner/work/chenyi-hooks/chenyi-hooks/src/useSet/index.ts":_,"/home/runner/work/chenyi-hooks/chenyi-hooks/src/useResetState/index.ts":x,"/home/runner/work/chenyi-hooks/chenyi-hooks/src/useThrottle/index.ts":f,"/home/runner/work/chenyi-hooks/chenyi-hooks/src/useThrottleFn/index.ts":F,"/home/runner/work/chenyi-hooks/chenyi-hooks/src/useUnmountedRef/index.tsx":L,"/home/runner/work/chenyi-hooks/chenyi-hooks/src/useToggle/index.ts":M,"lodash-es":K,"/home/runner/work/chenyi-hooks/chenyi-hooks/src/utils/isBrowser.ts":D,"/home/runner/work/chenyi-hooks/chenyi-hooks/src/createUseStorageState/index.ts":P,"/home/runner/work/chenyi-hooks/chenyi-hooks/src/utils/index.ts":p,"/home/runner/work/chenyi-hooks/chenyi-hooks/src/utils/isDev.ts":C,"/home/runner/work/chenyi-hooks/chenyi-hooks/src/utils/lodash-polyfill.ts":O},renderOpts:{compile:function(){var S=B()(u()().mark(function g(){var h,Z=arguments;return u()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.e(335).then(e.bind(e,37335));case 2:return n.abrupt("return",(h=n.sent).default.apply(h,Z));case 3:case"end":return n.stop()}},g)}));function R(){return S.apply(this,arguments)}return R}()}},"src-use-memoized-fn-demo-demo2":{component:s.memo(s.lazy(function(){return Promise.all([e.e(360),e.e(433)]).then(e.bind(e,86269))})),asset:{type:"BLOCK",id:"src-use-memoized-fn-demo-demo2",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:e(68771).Z},antd:{type:"NPM",value:"5.24.4"},react:{type:"NPM",value:"18.3.1"},"../../index.ts":{type:"FILE",value:e(1825).Z},"./useBoolean.ts":{type:"FILE",value:e(31897).Z},"./createUpdateEffect.ts":{type:"FILE",value:e(86861).Z},"./useUpdateEffect.ts":{type:"FILE",value:e(68085).Z},"./useDebounce.ts":{type:"FILE",value:e(76853).Z},"./useSessionStorageState.ts":{type:"FILE",value:e(29294).Z},"./useSet.ts":{type:"FILE",value:e(8368).Z},"./useDebounceFn.ts":{type:"FILE",value:e(43436).Z},"./useThrottle.ts":{type:"FILE",value:e(55222).Z},"./useGetState.ts":{type:"FILE",value:e(36430).Z},"./useLatest.ts":{type:"FILE",value:e(29696).Z},"./useMemoizedFn.ts":{type:"FILE",value:e(47737).Z},"./useThrottleFn.ts":{type:"FILE",value:e(9347).Z},"./usePrevious.ts":{type:"FILE",value:e(62441).Z},"./useToggle.ts":{type:"FILE",value:e(35498).Z},"./useResetState.ts":{type:"FILE",value:e(69438).Z},"./useUnmount.ts":{type:"FILE",value:e(25367).Z},"./useUnmountedRef.tsx":{type:"FILE",value:e(91975).Z},"lodash-es":{type:"NPM",value:"4.17.21"},"../utils/isBrowser.ts":{type:"FILE",value:e(2751).Z},"../createUseStorageState.ts":{type:"FILE",value:e(53204).Z},"../utils.ts":{type:"FILE",value:e(35225).Z},"../utils/isDev.ts":{type:"FILE",value:e(70571).Z},"../utils/lodash-polyfill.ts":{type:"FILE",value:e(93665).Z}},entry:"index.tsx",title:"useMemoizedFn \u51FD\u6570\u5730\u5740\u4E0D\u4F1A\u53D8\u5316\uFF0C\u53EF\u4EE5\u7528\u4E8E\u6027\u80FD\u4F18\u5316"},context:{"../../index.ts":r,"./useBoolean.ts":y,"./createUpdateEffect.ts":d,"./useUpdateEffect.ts":c,"./useDebounce.ts":m,"./useSessionStorageState.ts":I,"./useSet.ts":_,"./useDebounceFn.ts":E,"./useThrottle.ts":f,"./useGetState.ts":k,"./useLatest.ts":i,"./useMemoizedFn.ts":a,"./useThrottleFn.ts":F,"./usePrevious.ts":v,"./useToggle.ts":M,"./useResetState.ts":x,"./useUnmount.ts":l,"./useUnmountedRef.tsx":L,"../utils/isBrowser.ts":D,"../createUseStorageState.ts":P,"../utils.ts":p,"../utils/isDev.ts":C,"../utils/lodash-polyfill.ts":O,antd:A,react:t||(t=e.t(s,2)),"/home/runner/work/chenyi-hooks/chenyi-hooks/src/index.ts":r,"/home/runner/work/chenyi-hooks/chenyi-hooks/src/useBoolean/index.ts":y,"/home/runner/work/chenyi-hooks/chenyi-hooks/src/createUpdateEffect/index.ts":d,"/home/runner/work/chenyi-hooks/chenyi-hooks/src/useUpdateEffect/index.ts":c,"/home/runner/work/chenyi-hooks/chenyi-hooks/src/useDebounce/index.ts":m,"/home/runner/work/chenyi-hooks/chenyi-hooks/src/useSessionStorageState/index.ts":I,"/home/runner/work/chenyi-hooks/chenyi-hooks/src/useSet/index.ts":_,"/home/runner/work/chenyi-hooks/chenyi-hooks/src/useDebounceFn/index.ts":E,"/home/runner/work/chenyi-hooks/chenyi-hooks/src/useThrottle/index.ts":f,"/home/runner/work/chenyi-hooks/chenyi-hooks/src/useGetState/index.ts":k,"/home/runner/work/chenyi-hooks/chenyi-hooks/src/useLatest/index.ts":i,"/home/runner/work/chenyi-hooks/chenyi-hooks/src/useMemoizedFn/index.ts":a,"/home/runner/work/chenyi-hooks/chenyi-hooks/src/useThrottleFn/index.ts":F,"/home/runner/work/chenyi-hooks/chenyi-hooks/src/usePrevious/index.ts":v,"/home/runner/work/chenyi-hooks/chenyi-hooks/src/useToggle/index.ts":M,"/home/runner/work/chenyi-hooks/chenyi-hooks/src/useResetState/index.ts":x,"/home/runner/work/chenyi-hooks/chenyi-hooks/src/useUnmount/index.ts":l,"/home/runner/work/chenyi-hooks/chenyi-hooks/src/useUnmountedRef/index.tsx":L,"lodash-es":K,"/home/runner/work/chenyi-hooks/chenyi-hooks/src/utils/isBrowser.ts":D,"/home/runner/work/chenyi-hooks/chenyi-hooks/src/createUseStorageState/index.ts":P,"/home/runner/work/chenyi-hooks/chenyi-hooks/src/utils/index.ts":p,"/home/runner/work/chenyi-hooks/chenyi-hooks/src/utils/isDev.ts":C,"/home/runner/work/chenyi-hooks/chenyi-hooks/src/utils/lodash-polyfill.ts":O},renderOpts:{compile:function(){var S=B()(u()().mark(function g(){var h,Z=arguments;return u()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.e(335).then(e.bind(e,37335));case 2:return n.abrupt("return",(h=n.sent).default.apply(h,Z));case 3:case"end":return n.stop()}},g)}));function R(){return S.apply(this,arguments)}return R}()}}}},11073:function(U,o,e){e.r(o),e.d(o,{texts:function(){return T}});var t=e(22974);const T=[{value:"\u6301\u4E45\u5316 function \u7684 Hook\uFF0C\u7406\u8BBA\u4E0A\uFF0C\u53EF\u4EE5\u4F7F\u7528 useMemoizedFn \u5B8C\u5168\u4EE3\u66FF useCallback\u3002",paraId:0,tocIndex:0},{value:"\u5728\u67D0\u4E9B\u573A\u666F\u4E2D\uFF0C\u6211\u4EEC\u9700\u8981\u4F7F\u7528 useCallback \u6765\u8BB0\u4F4F\u4E00\u4E2A\u51FD\u6570\uFF0C\u4F46\u662F\u5728\u7B2C\u4E8C\u4E2A\u53C2\u6570 deps \u53D8\u5316\u65F6\uFF0C\u4F1A\u91CD\u65B0\u751F\u6210\u51FD\u6570\uFF0C\u5BFC\u81F4\u51FD\u6570\u5730\u5740\u53D8\u5316\u3002",paraId:1,tocIndex:0},{value:`const [state, setState] = useState('');

// \u5728 state \u53D8\u5316\u65F6\uFF0Cfunc \u5730\u5740\u4F1A\u53D8\u5316
const func = useCallback(() => {
  console.log(state);
}, [state]);
`,paraId:2,tocIndex:0},{value:"\u4F7F\u7528 useMemoizedFn\uFF0C\u53EF\u4EE5\u7701\u7565\u7B2C\u4E8C\u4E2A\u53C2\u6570 deps\uFF0C\u540C\u65F6\u4FDD\u8BC1\u51FD\u6570\u5730\u5740\u6C38\u8FDC\u4E0D\u4F1A\u53D8\u5316\u3002",paraId:3,tocIndex:0},{value:`const [state, setState] = useState('');

// func \u5730\u5740\u6C38\u8FDC\u4E0D\u4F1A\u53D8\u5316
const func = useMemoizedFn(() => {
  console.log(state);
});
`,paraId:4,tocIndex:0},{value:`const fn = useMemoizedFn<T>(fn: T): T;
`,paraId:5,tocIndex:6},{value:"\u53C2\u6570",paraId:6,tocIndex:7},{value:"\u8BF4\u660E",paraId:6,tocIndex:7},{value:"\u7C7B\u578B",paraId:6,tocIndex:7},{value:"fn",paraId:6,tocIndex:7},{value:"\u5F15\u7528\u5730\u5740\u6C38\u8FDC\u4E0D\u4F1A\u53D8\u5316\u7684 fn",paraId:6,tocIndex:7},{value:"(...args: any[]) => any",paraId:6,tocIndex:7},{value:"\u53C2\u6570",paraId:7,tocIndex:8},{value:"\u8BF4\u660E",paraId:7,tocIndex:8},{value:"\u7C7B\u578B",paraId:7,tocIndex:8},{value:"\u9ED8\u8BA4\u503C",paraId:7,tocIndex:8},{value:"fn",paraId:7,tocIndex:8},{value:"\u9700\u8981\u6301\u4E45\u5316\u7684\u51FD\u6570",paraId:7,tocIndex:8},{value:"(...args: any[]) => any",paraId:7,tocIndex:8},{value:"-",paraId:7,tocIndex:8}]},22645:function(U,o){o.Z=`import React, { useState, useCallback } from 'react';
import { message } from 'antd';
import { useMemoizedFn } from '../../index';

export default () => {
  const [count, setCount] = useState(0);

  const callbackFn = useCallback(() => {
    message.info(\`Current count is \${count}\`);
  }, [count]);

  const memoizedFn = useMemoizedFn(() => {
    message.info(\`Current count is \${count}\`);
  });

  return (
    <>
      <p>count: {count}</p>
      <button
        type="button"
        onClick={() => {
          setCount((c) => c + 1);
        }}
      >
        Add Count
      </button>
      <div style={{ marginTop: 16 }}>
        <button type="button" onClick={callbackFn}>
          call callbackFn
        </button>
        <button type="button" onClick={memoizedFn} style={{ marginLeft: 8 }}>
          call memoizedFn
        </button>
      </div>
    </>
  );
};
`},68771:function(U,o){o.Z=`import { useMemoizedFn } from '../../index';
import { message } from 'antd';
import React, { useCallback, useRef, useState } from 'react';

export default () => {
  const [count, setCount] = useState(0);

  const callbackFn = useCallback(() => {
    message.info(\`Current count is \${count}\`);
  }, [count]);

  const memoizedFn = useMemoizedFn(() => {
    message.info(\`Current count is \${count}\`);
  });

  return (
    <>
      <p>count: {count}</p>
      <button
        type="button"
        onClick={() => {
          setCount((c) => c + 1);
        }}
      >
        Add Count
      </button>

      <p>You can click the button to see the number of sub-component renderings</p>

      <div style={{ marginTop: 32 }}>
        <h3>Component with useCallback function:</h3>
        {/* use callback function, ExpensiveTree component will re-render on state change */}
        <ExpensiveTree showCount={callbackFn} />
      </div>

      <div style={{ marginTop: 32 }}>
        <h3>Component with useMemoizedFn function:</h3>
        {/* use memoized function, ExpensiveTree component will only render once */}
        <ExpensiveTree showCount={memoizedFn} />
      </div>
    </>
  );
};

// some expensive component with React.memo
const ExpensiveTree = React.memo<{ [key: string]: any }>(({ showCount }) => {
  const renderCountRef = useRef(0);
  renderCountRef.current += 1;

  return (
    <div>
      <p>Render Count: {renderCountRef.current}</p>
      <button type="button" onClick={showCount}>
        showParentCount
      </button>
    </div>
  );
});
`}}]);
